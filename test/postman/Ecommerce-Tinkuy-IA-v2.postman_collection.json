{
  "info": {
    "name": "Ecommerce-Tinkuy IA v2",
    "_postman_id": "2f3b3d7d-5ff0-4d3e-a7e2-77f1a9b8b2aa",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    { "name": "IA v2 - POST válido (200)", "request": { "method": "POST", "header": [{"key":"Content-Type","value":"application/json"}], "url": "{{baseUrl}}/deepseek_search.php", "body": {"mode":"raw","raw":"{\n  \"query\": \"chompa de alpaca\"\n}" } }, "event": [{"listen":"test","script":{"exec":["pm.test('Status 200',()=>pm.response.to.have.status(200));","const json=pm.response.json();","pm.test('Tiene texto',()=>pm.expect(json.texto).to.be.a('string').and.not.empty);"]}}] },
    { "name": "IA v2 - POST query vacío (400)", "request": { "method": "POST", "header": [{"key":"Content-Type","value":"application/json"}], "url": "{{baseUrl}}/deepseek_search.php", "body": {"mode":"raw","raw":"{\n  \"query\": \"\"\n}" } }, "event": [{"listen":"test","script":{"exec":["pm.test('Status 400',()=>pm.response.to.have.status(400));","const json=pm.response.json();","pm.test('Mensaje de validación',()=>pm.expect(json.error).to.include('Query vacío'));"]}}] },
    { "name": "IA v2 - GET no permitido (405)", "request": { "method": "GET", "url": "{{baseUrl}}/deepseek_search.php" }, "event": [{"listen":"test","script":{"exec":["pm.test('Status 405',()=>pm.response.to.have.status(405));"]}}] },
    { "name": "IA v2 - Modo demo (200)", "request": { "method": "POST", "header": [{"key":"Content-Type","value":"application/json"}], "url": "{{baseUrl}}/deepseek_search.php?demo=1", "body": {"mode":"raw","raw":"{\n  \"query\": \"Quiero un regalo para mi mamá\"\n}" } }, "event": [{"listen":"test","script":{"exec":["pm.test('Status 200',()=>pm.response.to.have.status(200));","const json=pm.response.json();","pm.test('Demo tiene texto',()=>pm.expect(json.texto).to.be.a('string').and.not.empty);"]}}] },
    { "name": "IA v2 - Debug (?debug=1)", "request": { "method": "GET", "url": "{{baseUrl}}/deepseek_search.php?debug=1" }, "event": [{"listen":"test","script":{"exec":["pm.test('Status 200',()=>pm.response.to.have.status(200));","const json=pm.response.json();","pm.test('Tiene claves de diagnostico',()=>pm.expect(json).to.have.keys(['root','env_local_path','env_path','env_local_readable','env_readable','has_env_var','env_local_has_key','env_has_key','demo_env_set','note']));"]}}] }
  ]
}
